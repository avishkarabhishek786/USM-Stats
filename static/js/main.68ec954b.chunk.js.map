{"version":3,"sources":["tokens.js","redux/actions.js","redux/interactions/cdp.js","redux/interactions/erc20.js","redux/interactions.js","redux/selectors.js","App.js","redux/reducers.js","redux/configure.js","serviceWorker.js","index.js"],"names":["usm","name","abi","address","fum","networkLoaded","provider","type","usmLoaded","fumLoaded","setCollateral","collateral","setEthBuffer","ethBuffer","setUSMPrice","buyPrice","sellPrice","setFUMPrice","setTotalSupply","tokenName","supply","setMints","mints","setBurns","burns","loadCollateralData","dispatch","contract","a","getCollateral","getDebtRatio","getEthBuffer","getUSMPrice","getFUMPrice","ethPool","formattedCollateral","ethers","utils","formatEther","debtRatio","ratio","formattedRatio","formattedBuffer","usmPrice","formattedBuyPrice","formattedSellPrice","fumPrice","loadERC20Data","token","tokenContract","getTotalSupply","getTotalMints","getTotalBurns","erc20Contract","totalSupply","formattedSupply","mintFilter","filters","Transfer","constants","AddressZero","queryFilter","length","burnFilter","loadNetwork","providers","JsonRpcProvider","loadUSM","loadFUM","getNetwork","network","chainId","usmContract","Contract","fumContract","console","log","networkProviderSelector","createSelector","state","get","w","usmSupplySelector","usmMintsSelector","usmBurnsSelector","usmCollateralSelector","usmDebtRatioSelector","usmEthBufferSelector","usmBuyPriceSelector","usmSellPriceSelector","fumSupplySelector","fumMintsSelector","fumBurnsSelector","fumBuyPriceSelector","fumSellPriceSelector","App","decimalPlaces","numberString","decimals","Number","parseFloat","toFixed","this","props","networkProvider","usmSupply","usmMints","usmBurns","usmMarketCap","usmCollateral","usmDebtRatio","usmEthBuffer","usmBuyPrice","usmSellPrice","fumMarketCap","fumSupply","fumMints","fumBurns","fumBuyPrice","fumSellPrice","className","Container","Row","Col","xs","Card","Body","Title","Table","decimalString","num","toString","toPercentage","size","Component","connect","rootReducer","combineReducers","app","action","loggerMiddleware","createLogger","middleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","preLoadedState","Boolean","location","hostname","match","ReactDOM","render","store","createStore","applyMiddleware","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"iRAAaA,EAAM,CACjBC,KAAM,MACNC,IAAK,CACH,4EACA,0GACA,4EACA,4GACA,mHACA,qDACA,4DACA,qEACA,wEACA,wFACA,wFACA,0DACA,mEACA,mEACA,0DACA,6DAEA,yDACA,sEACA,+EACA,qFACA,4EACA,mGACA,2EAEFC,QAAS,CACP,EAAK,+CAIIC,EAAM,CACjBH,KAAM,MACNC,IAAK,CACH,yDACA,2EAEFC,QAAS,CACP,EAAK,+CCtCF,SAASE,EAAcC,GAC5B,MAAO,CACLC,KAAM,iBACND,YAIG,SAASE,EAAUR,GACxB,MAAO,CACLO,KAAM,aACNP,OAIG,SAASS,EAAUL,GACxB,MAAO,CACLG,KAAM,aACNH,OAIG,SAASM,EAAcC,GAC5B,MAAO,CACLJ,KAAM,iBACNI,cAWG,SAASC,EAAaC,GAC3B,MAAO,CACLN,KAAM,iBACNM,aAIG,SAASC,EAAYC,EAAUC,GACpC,MAAO,CACLT,KAAM,YACNQ,WACAC,aAIG,SAASC,EAAYF,EAAUC,GACpC,MAAO,CACLT,KAAM,YACNQ,WACAC,aAIG,SAASE,EAAeC,EAAWC,GACxC,OAAQD,GACN,KAAKnB,EAAIC,KACP,MAAO,CACLM,KAAM,mBACNa,UAEJ,KAAKhB,EAAIH,KACP,MAAO,CACLM,KAAM,mBACNa,WAOD,SAASC,EAASF,EAAWG,GAClC,OAAQH,GACN,KAAKnB,EAAIC,KACP,MAAO,CACLM,KAAM,YACNe,SAEJ,KAAKlB,EAAIH,KACP,MAAO,CACLM,KAAM,YACNe,UAOD,SAASC,EAASJ,EAAWK,GAClC,OAAQL,GACN,KAAKnB,EAAIC,KACP,MAAO,CACLM,KAAM,YACNiB,SAEJ,KAAKpB,EAAIH,KACP,MAAO,CACLM,KAAM,YACNiB,UCrGD,IAAMC,EAAkB,uCAAG,WAAOC,EAAUC,GAAjB,SAAAC,EAAA,sDAChCC,EAAcH,EAAUC,GACxBG,EAAaJ,EAAUC,GACvBI,EAAaL,EAAUC,GACvBK,EAAYN,EAAUC,GACtBM,EAAYP,EAAUC,GALU,2CAAH,wDAQlBE,EAAa,uCAAG,WAAOH,EAAUC,GAAjB,iBAAAC,EAAA,sEACFD,EAASO,UADP,OACrBvB,EADqB,OAErBwB,EAAsBC,IAAOC,MAAMC,YAAY3B,GACrDe,EAAShB,EAAcyB,IAHI,2CAAH,wDAMbL,EAAY,uCAAG,WAAOJ,EAAUC,GAAjB,iBAAAC,EAAA,sEACND,EAASY,YADH,OACpBC,EADoB,OAEpBC,EAAiBL,IAAOC,MAAMC,YAAYE,GAChDd,EDWO,CACLnB,KAAM,iBACNgC,UCboBE,IAHI,2CAAH,wDAMZV,EAAY,uCAAG,WAAOL,EAAUC,GAAjB,iBAAAC,EAAA,sEACFD,EAASd,UAAU,GADjB,OACpBA,EADoB,OAEpB6B,EAAkBN,IAAOC,MAAMC,YAAYzB,GACjDa,EAASd,EAAa8B,IAHI,2CAAH,wDAMZV,EAAW,uCAAG,WAAON,EAAUC,GAAjB,qBAAAC,EAAA,sEACFD,EAASgB,SAAS,GADhB,cACnB5B,EADmB,OAEnB6B,EAAoBR,IAAOC,MAAMC,YAAYvB,GAF1B,SAGDY,EAASgB,SAAS,GAHjB,OAGnB3B,EAHmB,OAInB6B,EAAqBT,IAAOC,MAAMC,YAAYtB,GACpDU,EAASZ,EAAY8B,EAAmBC,IALf,2CAAH,wDAQXZ,EAAW,uCAAG,WAAOP,EAAUC,GAAjB,qBAAAC,EAAA,sEACFD,EAASmB,SAAS,GADhB,cACnB/B,EADmB,OAEnB6B,EAAoBR,IAAOC,MAAMC,YAAYvB,GAF1B,SAGDY,EAASmB,SAAS,GAHjB,OAGnB9B,EAHmB,OAInB6B,EAAqBT,IAAOC,MAAMC,YAAYtB,GACpDU,EAAST,EAAY2B,EAAmBC,IALf,2CAAH,wDClCXE,EAAa,uCAAG,WAAOrB,EAAUsB,EAAOC,GAAxB,SAAArB,EAAA,sDAC3BsB,EAAexB,EAAUsB,EAAOC,GAChCE,EAAczB,EAAUsB,EAAOC,GAC/BG,EAAc1B,EAAUsB,EAAOC,GAHJ,2CAAH,0DAMbC,EAAc,uCAAG,WAAOxB,EAAUsB,EAAOK,GAAxB,iBAAAzB,EAAA,sEACPyB,EAAcC,cADP,OACtBlC,EADsB,OAEtBmC,EAAkBnB,IAAOC,MAAMC,YAAYlB,GACjDM,EAASR,EAAe8B,EAAM/C,KAAMsD,IAHR,2CAAH,0DAMdJ,EAAa,uCAAG,WAAOzB,EAAUsB,EAAOK,GAAxB,iBAAAzB,EAAA,6DACrB4B,EAAaH,EAAcI,QAAQC,SAAStB,IAAOuB,UAAUC,YAAa,MADrD,SAEPP,EAAcQ,YAAYL,EAAY,GAF/B,OAErBlC,EAFqB,OAG3BI,EAASL,EAAS2B,EAAM/C,KAAMqB,EAAMwC,SAHT,2CAAH,0DAMbV,EAAa,uCAAG,WAAO1B,EAAUsB,EAAOK,GAAxB,iBAAAzB,EAAA,6DACrBmC,EAAaV,EAAcI,QAAQC,SAAS,KAAMtB,IAAOuB,UAAUC,aAD9C,SAEPP,EAAcQ,YAAYE,EAAY,GAF/B,OAErBvC,EAFqB,OAG3BE,EAASH,EAASyB,EAAM/C,KAAMuB,EAAMsC,SAHT,2CAAH,0DCfbE,EAAW,uCAAG,WAAOtC,GAAP,eAAAE,EAAA,sDACnBtB,EAAW,IAAI8B,IAAO6B,UAAUC,gBAAgB,iEACtDxC,EAASrB,EAAcC,IACvB6D,EAAQzC,EAAUpB,GAClB8D,EAAQ1C,EAAUpB,GAJO,2CAAH,sDAOX6D,EAAO,uCAAG,WAAOzC,EAAUpB,GAAjB,qBAAAsB,EAAA,sEACCtB,EAAS+D,aADV,OACfC,EADe,OAEfpE,EAAMF,EAAIE,IACVC,EAAUH,EAAIG,QAAQmE,EAAQC,SAC9BC,EAAc,IAAIpC,IAAOqC,SAAStE,EAASD,EAAKI,GACtDoB,EAASlB,EAAUgE,IACnBzB,EAAcrB,EAAU1B,EAAKwE,GAC7B/C,EAAmBC,EAAU8C,GAPR,2CAAH,wDAUPJ,EAAO,uCAAG,WAAO1C,EAAUpB,GAAjB,qBAAAsB,EAAA,sEACCtB,EAAS+D,aADV,OACfC,EADe,OAEfpE,EAAME,EAAIF,IACVC,EAAUC,EAAID,QAAQmE,EAAQC,SAC9BG,EAAc,IAAItC,IAAOqC,SAAStE,EAASD,EAAKI,GACtDoB,EAASjB,EAAUiE,IACnBC,QAAQC,IAAI1E,EAAKC,EAASuE,GAC1B3B,EAAcrB,EAAUtB,EAAKsE,GAPR,2CAAH,wD,gBClBPG,EAA0BC,aADf,SAAAC,GAAK,OAAIC,cAAID,EAAO,eAAgB,SACW,SAAAE,GAAC,OAAIA,KAO/DC,GAJsBJ,aADf,SAAAC,GAAK,OAAIC,cAAID,EAAO,UAAW,SACY,SAAAE,GAAC,OAAIA,KAInCH,aADf,SAAAC,GAAK,OAAIC,cAAID,EAAO,aAAc,MACO,SAAAE,GAAC,OAAIA,MAGnDE,EAAmBL,aADf,SAAAC,GAAK,OAAIC,cAAID,EAAO,YAAa,MACO,SAAAE,GAAC,OAAIA,KAGjDG,EAAmBN,aADf,SAAAC,GAAK,OAAIC,cAAID,EAAO,YAAa,MACO,SAAAE,GAAC,OAAIA,KAGjDI,EAAwBP,aADf,SAAAC,GAAK,OAAIC,cAAID,EAAO,iBAAkB,MACO,SAAAE,GAAC,OAAIA,KAG3DK,EAAuBR,aADf,SAAAC,GAAK,OAAIC,cAAID,EAAO,gBAAiB,MACO,SAAAE,GAAC,OAAIA,KAGzDM,EAAuBT,aADf,SAAAC,GAAK,OAAIC,cAAID,EAAO,gBAAiB,MACO,SAAAE,GAAC,OAAIA,KAGzDO,EAAsBV,aADf,SAAAC,GAAK,OAAIC,cAAID,EAAO,eAAgB,MACO,SAAAE,GAAC,OAAIA,KAGvDQ,EAAuBX,aADf,SAAAC,GAAK,OAAIC,cAAID,EAAO,gBAAiB,MACO,SAAAE,GAAC,OAAIA,KAIzDS,EAAoBZ,aADf,SAAAC,GAAK,OAAIC,cAAID,EAAO,aAAc,MACO,SAAAE,GAAC,OAAIA,KAGnDU,EAAmBb,aADf,SAAAC,GAAK,OAAIC,cAAID,EAAO,YAAa,MACO,SAAAE,GAAC,OAAIA,KAGjDW,GAAmBd,aADf,SAAAC,GAAK,OAAIC,cAAID,EAAO,YAAa,MACO,SAAAE,GAAC,OAAIA,KAGjDY,GAAsBf,aADf,SAAAC,GAAK,OAAIC,cAAID,EAAO,eAAgB,MACO,SAAAE,GAAC,OAAIA,KAGvDa,GAAuBhB,aADf,SAAAC,GAAK,OAAIC,cAAID,EAAO,gBAAiB,MACO,SAAAE,GAAC,OAAIA,K,6CC1ChEc,G,uKAKF,IAAMC,EAAgB,SAACC,GAAgC,IAAlBC,EAAiB,uDAAN,EAC9C,OAAOC,OAAOC,WAAWH,GAAcI,QAAQH,IAH1C,EAaqEI,KAAKC,MAF1E7E,EAXA,EAWAA,SAAU8E,EAXV,EAWUA,gBAAiBC,EAX3B,EAW2BA,UAAWC,EAXtC,EAWsCA,SAAUC,EAXhD,EAWgDA,SAAUC,EAX1D,EAW0DA,aAC/DC,EAZK,EAYLA,cAAeC,EAZV,EAYUA,aAAcC,EAZxB,EAYwBA,aAAcC,EAZtC,EAYsCA,YAAaC,EAZnD,EAYmDA,aACxDC,EAbK,EAaLA,aAAcC,EAbT,EAaSA,UAAWC,EAbpB,EAaoBA,SAAUC,EAb9B,EAa8BA,SAAUC,EAbxC,EAawCA,YAAaC,EAbrD,EAaqDA,aAK5D,OAJKf,GACHxC,EAAYtC,GAIZ,qBAAK8F,UAAU,MAAf,SACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAKF,UAAU,4BAAf,SACE,cAACG,GAAA,EAAD,CAAKC,GAAI,EAAT,SACE,cAACC,GAAA,EAAD,UACE,eAACA,GAAA,EAAKC,KAAN,WACE,cAACD,GAAA,EAAKE,MAAN,8BAGA,cAACC,GAAA,EAAD,UACE,kCACE,+BACE,kDACA,+BAAKhC,EAAca,GAAnB,aAEF,+BACE,wCACA,+BAAKb,EAAce,GAAnB,aAEF,+BACE,4CACA,+BAlCC,SAACkB,GACpB,IAAMC,EAAyC,IAAnC/B,OAAOC,WAAW6B,GAC9B,OAAOjC,EAAckC,EAAIC,YAgCFC,CAAatB,GAAlB,yBAQd,eAACY,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,cAACE,GAAA,EAAD,UACE,eAACA,GAAA,EAAKC,KAAN,WACE,cAACD,GAAA,EAAKE,MAAN,wBAGA,cAACC,GAAA,EAAD,CAAOK,KAAK,KAAZ,SACE,kCACE,+BACE,kDACA,6BAAKrC,EAAcY,QAErB,+BACE,8CACA,6BAAKZ,EAAcS,QAErB,+BACE,iDACA,6BAAKT,EAAcgB,EAAa,QAElC,+BACE,kDACA,6BAAKhB,EAAciB,EAAc,QAEnC,+BACE,8CACA,6BAAKP,OAEP,+BACE,8CACA,6BAAKC,mBAOjB,cAACgB,GAAA,EAAD,UACA,cAACE,GAAA,EAAD,UACI,eAACA,GAAA,EAAKC,KAAN,WACE,cAACD,GAAA,EAAKE,MAAN,wBAGA,cAACC,GAAA,EAAD,CAAOK,KAAK,KAAZ,SACE,kCACE,+BACE,kDACA,6BAAKrC,EAAckB,QAErB,+BACE,8CACA,6BAAKlB,EAAcmB,QAErB,+BACE,iDACA,6BAAKnB,EAAcsB,EAAa,QAElC,+BACE,kDACA,6BAAKtB,EAAcuB,EAAc,QAEnC,+BACE,8CACA,6BAAKH,OAEP,+BACE,8CACA,6BAAKC,mBAOjB,cAACM,GAAA,EAAD,UACA,cAACE,GAAA,EAAD,UACI,cAACA,GAAA,EAAKC,KAAN,UACE,cAACD,GAAA,EAAKE,MAAN,6C,GAjIAO,aA2KHC,oBA5Bf,SAAyBxD,GACvB,IAAM0B,EAAYvB,EAAkBH,GAC9BiC,EAAcxB,EAAoBT,GAClC6B,EAAeH,EAAYO,EAE3BG,EAAYzB,EAAkBX,GAC9BuC,EAAczB,GAAoBd,GAClCmC,EAAeC,EAAYG,EACjC,MAAO,CACLd,gBAAiB3B,EAAwBE,GACzC6B,eACAH,YACAC,SAAUvB,EAAiBJ,GAC3B4B,SAAUvB,EAAiBL,GAC3B8B,cAAexB,EAAsBN,GACrC+B,aAAcxB,EAAqBP,GACnCgC,aAAcxB,EAAqBR,GACnCiC,cACAC,aAAcxB,EAAqBV,GACnCmC,eACAC,YACAC,SAAUzB,EAAiBZ,GAC3BsC,SAAUzB,GAAiBb,GAC3BuC,cACAC,aAAczB,GAAqBf,MAIxBwD,CAAyBxC,I,2BC/HxC,IAIeyC,GAJK,IAAIC,KAAgB,CACtCC,IAlDF,WAAkC,IAArB3D,EAAoB,uDAAZ,GAAI4D,EAAQ,uCAC/B,OAAQA,EAAOpI,MACb,IAAK,iBACH,OAAO,6BAAKwE,GAAZ,IAAmBzE,SAAUqI,EAAOrI,WACtC,IAAK,aACH,OAAO,6BAAKyE,GAAZ,IAAmB/E,IAAK2I,EAAO3I,MACjC,IAAK,aACH,OAAO,6BAAK+E,GAAZ,IAAmB3E,IAAKuI,EAAOvI,MACjC,QACE,OAAO2E,IAyCN/E,IArCP,WAAkC,IAArB+E,EAAoB,uDAAZ,GAAI4D,EAAQ,uCAC/B,OAAQA,EAAOpI,MACb,IAAK,mBACH,OAAO,6BAAKwE,GAAZ,IAAmB3D,OAAQuH,EAAOvH,SACpC,IAAK,YACH,OAAO,6BAAK2D,GAAZ,IAAmBzD,MAAOqH,EAAOrH,QACnC,IAAK,YACH,OAAO,6BAAKyD,GAAZ,IAAmBvD,MAAOmH,EAAOnH,QACnC,IAAK,iBACH,OAAO,6BAAKuD,GAAZ,IAAmBpE,WAAYgI,EAAOhI,aACxC,IAAK,iBACH,OAAO,6BAAKoE,GAAZ,IAAmBxC,UAAWoG,EAAOpG,YACvC,IAAK,iBACH,OAAO,6BAAKwC,GAAZ,IAAmBlE,UAAW8H,EAAO9H,YACvC,IAAK,YACH,OAAO,6BAAKkE,GAAZ,IAAmBhE,SAAU4H,EAAO5H,SAAUC,UAAW2H,EAAO3H,YAClE,QACE,OAAO+D,IAoBD3E,IAhBZ,WAAkC,IAArB2E,EAAoB,uDAAZ,GAAI4D,EAAQ,uCAC/B,OAAQA,EAAOpI,MACb,IAAK,mBACH,OAAO,6BAAKwE,GAAZ,IAAmB3D,OAAQuH,EAAOvH,SACpC,IAAK,YACH,OAAO,6BAAK2D,GAAZ,IAAmBzD,MAAOqH,EAAOrH,QACnC,IAAK,YACH,OAAO,6BAAKyD,GAAZ,IAAmBvD,MAAOmH,EAAOnH,QACnC,IAAK,YACH,OAAO,6BAAKuD,GAAZ,IAAmBhE,SAAU4H,EAAO5H,SAAUC,UAAW2H,EAAO3H,YAClE,QACE,OAAO+D,MC3CP6D,GAAmBC,0BACnBC,GAAa,GAGbC,GAAmBC,OAAOC,sCAAwCC,KCIxE,IDFuCC,GCEnBC,QACW,cAA7BJ,OAAOK,SAASC,UAEe,UAA7BN,OAAOK,SAASC,UAEhBN,OAAOK,SAASC,SAASC,MACvB,2DCXNC,IAASC,OACP,cAAC,IAAD,CAAUC,MFGHC,aACLnB,GACAW,GACAJ,GAAiBa,KAAe,WAAf,EAAmBd,GAAnB,QAA+BF,QENlD,SACE,cAAC,GAAD,MAEFiB,SAASC,eAAe,SDwHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACL3F,QAAQ2F,MAAMA,EAAMC,c","file":"static/js/main.68ec954b.chunk.js","sourcesContent":["export const usm = {\n  name: 'usm',\n  abi: [\n    \"function mint(address to, uint minUsmOut) external payable returns (uint)\",\n    \"function burn(address from, address payable to, uint usmToBurn, uint minEthOut) external returns (uint)\",\n    \"function fund(address to, uint minFumOut) external payable returns (uint)\",\n    \"function defund(address from, address payable to, uint fumToBurn, uint minEthOut) external returns (uint)\",\n    \"function defundFromFUM(address from, address payable to, uint fumToBurn, uint minEthOut) external returns (uint)\",\n    \"function ethPool() public view returns (uint pool)\",\n    \"function minFumBuyPrice() public view returns (uint mfbp)\",\n    \"function buySellAdjustment() public view returns (uint adjustment)\",\n    \"function ethBuffer(uint8 upOrDown) external view returns (int buffer)\",\n    \"function ethToUsm(uint ethAmount, uint8 upOrDown) external view returns (uint usmOut)\",\n    \"function usmToEth(uint usmAmount, uint8 upOrDown) external view returns (uint ethOut)\",\n    \"function debtRatio() external view returns (uint ratio)\",\n    \"function usmPrice(uint8 side) external view returns (uint price)\",\n    \"function fumPrice(uint8 side) external view returns (uint price)\",\n    \"event MinFumBuyPriceChanged(uint previous, uint latest)\",\n    \"event BuySellAdjustmentChanged(uint previous, uint latest)\",\n  \n    \"function totalSupply() external view returns (uint256)\",\n    \"function balanceOf(address account) external view returns (uint256)\",\n    \"function transfer(address recipient, uint256 amount) external returns (bool)\",\n    \"function allowance(address owner, address spender) external view returns (uint256)\",\n    \"function approve(address spender, uint256 amount) external returns (bool)\",\n    \"function transferFrom(address sender, address recipient, uint256 amount) external returns (bool)\",\n    \"event Transfer(address indexed from, address indexed to, uint256 value)\",\n  ],\n  address: {\n    '1': '0x03eb7Ce2907e202bB70BAE3D7B0C588573d3cECC'\n  }\n}\n\nexport const fum = {\n  name: 'fum',\n  abi: [\n    \"function totalSupply() external view returns (uint256)\",\n    \"event Transfer(address indexed from, address indexed to, uint256 value)\"\n  ],\n  address: {\n    '1': '0xf04a5D82ff8a801f7d45e9C14CDcf73defF1a394'\n  }\n}\n\n","import { fum, usm } from \"../tokens\";\n\nexport function networkLoaded(provider){\n  return {\n    type: 'NETWORK_LOADED',\n    provider\n  }\n}\n\nexport function usmLoaded(usm) {\n  return {\n    type: 'USM_LOADED',\n    usm\n  }\n}\n\nexport function fumLoaded(fum) {\n  return {\n    type: 'FUM_LOADED',\n    fum\n  }\n}\n\nexport function setCollateral(collateral) {\n  return {\n    type: 'USM_COLLATERAL',\n    collateral\n  }\n}\n\nexport function setDebtRatio(debtRatio) {\n  return {\n    type: 'USM_DEBT_RATIO',\n    debtRatio\n  }\n}\n\nexport function setEthBuffer(ethBuffer) {\n  return {\n    type: 'USM_ETH_BUFFER',\n    ethBuffer\n  }\n}\n\nexport function setUSMPrice(buyPrice, sellPrice) {\n  return {\n    type: 'USM_PRICE',\n    buyPrice,\n    sellPrice\n  }\n}\n\nexport function setFUMPrice(buyPrice, sellPrice) {\n  return {\n    type: 'FUM_PRICE',\n    buyPrice,\n    sellPrice\n  }\n}\n\nexport function setTotalSupply(tokenName, supply) {\n  switch (tokenName) {\n    case usm.name:\n      return {\n        type: 'USM_TOTAL_SUPPLY',\n        supply\n      }\n    case fum.name:\n      return {\n        type: 'FUM_TOTAL_SUPPLY',\n        supply\n      }\n    default:\n      break;\n  }\n}\n\nexport function setMints(tokenName, mints) {\n  switch (tokenName) {\n    case usm.name:\n      return {\n        type: 'USM_MINTS',\n        mints\n      }\n    case fum.name:\n      return {\n        type: 'FUM_MINTS',\n        mints\n      }\n    default:\n      break;\n  }\n}\n\nexport function setBurns(tokenName, burns) {\n  switch (tokenName) {\n    case usm.name:\n      return {\n        type: 'USM_BURNS',\n        burns\n      }\n    case fum.name:\n      return {\n        type: 'FUM_BURNS',\n        burns\n      }\n    default:\n      break;\n  }\n}\n","import { ethers } from \"ethers\"\nimport { setCollateral, setDebtRatio, setEthBuffer, setFUMPrice, setUSMPrice } from \"../actions\"\n\nexport const loadCollateralData = async (dispatch, contract) => {\n  getCollateral(dispatch, contract)\n  getDebtRatio(dispatch, contract)\n  getEthBuffer(dispatch, contract)\n  getUSMPrice(dispatch, contract)\n  getFUMPrice(dispatch, contract)\n}\n\nexport const getCollateral = async (dispatch, contract) => {\n  const collateral = await contract.ethPool()\n  const formattedCollateral = ethers.utils.formatEther(collateral)\n  dispatch(setCollateral(formattedCollateral))\n}\n\nexport const getDebtRatio = async (dispatch, contract) => {\n  const ratio = await contract.debtRatio()\n  const formattedRatio = ethers.utils.formatEther(ratio)\n  dispatch(setDebtRatio(formattedRatio))\n}\n\nexport const getEthBuffer = async (dispatch, contract) => {\n  const ethBuffer = await contract.ethBuffer(0)\n  const formattedBuffer = ethers.utils.formatEther(ethBuffer)\n  dispatch(setEthBuffer(formattedBuffer))\n}\n\nexport const getUSMPrice = async (dispatch, contract) => {\n  const buyPrice = await contract.usmPrice(0)\n  const formattedBuyPrice = ethers.utils.formatEther(buyPrice)\n  const sellPrice = await contract.usmPrice(1)\n  const formattedSellPrice = ethers.utils.formatEther(sellPrice)\n  dispatch(setUSMPrice(formattedBuyPrice, formattedSellPrice))\n}\n\nexport const getFUMPrice = async (dispatch, contract) => {\n  const buyPrice = await contract.fumPrice(0)\n  const formattedBuyPrice = ethers.utils.formatEther(buyPrice)\n  const sellPrice = await contract.fumPrice(1)\n  const formattedSellPrice = ethers.utils.formatEther(sellPrice)\n  dispatch(setFUMPrice(formattedBuyPrice, formattedSellPrice))\n}\n","import { ethers } from \"ethers\"\nimport { setBurns, setMints, setTotalSupply } from \"../actions\"\n\nexport const loadERC20Data = async (dispatch, token, tokenContract) => {\n  getTotalSupply(dispatch, token, tokenContract)\n  getTotalMints(dispatch, token, tokenContract)\n  getTotalBurns(dispatch, token, tokenContract)\n}\n\nexport const getTotalSupply = async (dispatch, token, erc20Contract) => {\n  const supply = await erc20Contract.totalSupply()\n  const formattedSupply = ethers.utils.formatEther(supply)\n  dispatch(setTotalSupply(token.name, formattedSupply))\n}\n\nexport const getTotalMints = async (dispatch, token, erc20Contract) => {\n  const mintFilter = erc20Contract.filters.Transfer(ethers.constants.AddressZero, null)\n  const mints = await erc20Contract.queryFilter(mintFilter, 0)\n  dispatch(setMints(token.name, mints.length))\n}\n\nexport const getTotalBurns = async (dispatch, token, erc20Contract) => {\n  const burnFilter = erc20Contract.filters.Transfer(null, ethers.constants.AddressZero)\n  const burns = await erc20Contract.queryFilter(burnFilter, 0)\n  dispatch(setBurns(token.name, burns.length))\n}\n","import { ethers } from \"ethers\"\nimport { fum, usm } from \"../tokens\"\nimport { fumLoaded, networkLoaded, usmLoaded } from \"./actions\"\nimport { loadCollateralData } from \"./interactions/cdp\"\nimport { loadERC20Data } from \"./interactions/erc20\"\n\nexport const loadNetwork = async (dispatch) => {\n  const provider = new ethers.providers.JsonRpcProvider(\"https://mainnet.infura.io/v3/1be1f8b7b85a47e4949bc1057660a81d\")\n  dispatch(networkLoaded(provider))\n  loadUSM(dispatch, provider)\n  loadFUM(dispatch, provider)\n}\n\nexport const loadUSM = async (dispatch, provider) => {\n  const network = await provider.getNetwork()\n  const abi = usm.abi\n  const address = usm.address[network.chainId]\n  const usmContract = new ethers.Contract(address, abi, provider)\n  dispatch(usmLoaded(usmContract))\n  loadERC20Data(dispatch, usm, usmContract)\n  loadCollateralData(dispatch, usmContract)\n}\n\nexport const loadFUM = async (dispatch, provider) => {\n  const network = await provider.getNetwork()\n  const abi = fum.abi\n  const address = fum.address[network.chainId]\n  const fumContract = new ethers.Contract(address, abi, provider)\n  dispatch(fumLoaded(fumContract))\n  console.log(abi, address, fumContract)\n  loadERC20Data(dispatch, fum, fumContract)\n}\n","import {get} from 'lodash';\nimport {createSelector} from 'reselect';\n\n//APP\nconst networkProvider = state => get(state, 'app.provider', null);\nexport const networkProviderSelector = createSelector(networkProvider, w => w);\n\nconst usmContract = state => get(state, 'app.usm', null);\nexport const usmContractSelector = createSelector(usmContract, w => w);\n\n//USM\nconst usmSupply = state => get(state, 'usm.supply', 0);\nexport const usmSupplySelector = createSelector(usmSupply, w => w);\n\nconst usmMints = state => get(state, 'usm.mints', 0);\nexport const usmMintsSelector = createSelector(usmMints, w => w);\n\nconst usmBurns = state => get(state, 'usm.burns', 0);\nexport const usmBurnsSelector = createSelector(usmBurns, w => w);\n\nconst usmCollateral = state => get(state, 'usm.collateral', 0);\nexport const usmCollateralSelector = createSelector(usmCollateral, w => w);\n\nconst usmDebtRatio = state => get(state, 'usm.debtRatio', 0);\nexport const usmDebtRatioSelector = createSelector(usmDebtRatio, w => w);\n\nconst usmEthBuffer = state => get(state, 'usm.ethBuffer', 0);\nexport const usmEthBufferSelector = createSelector(usmEthBuffer, w => w);\n\nconst usmBuyPrice = state => get(state, 'usm.buyPrice', 0);\nexport const usmBuyPriceSelector = createSelector(usmBuyPrice, w => w);\n\nconst usmSellPrice = state => get(state, 'usm.sellPrice', 0);\nexport const usmSellPriceSelector = createSelector(usmSellPrice, w => w);\n\n//FUM\nconst fumSupply = state => get(state, 'fum.supply', 0);\nexport const fumSupplySelector = createSelector(fumSupply, w => w);\n\nconst fumMints = state => get(state, 'fum.mints', 0);\nexport const fumMintsSelector = createSelector(fumMints, w => w);\n\nconst fumBurns = state => get(state, 'fum.burns', 0);\nexport const fumBurnsSelector = createSelector(fumBurns, w => w);\n\nconst fumBuyPrice = state => get(state, 'fum.buyPrice', 0);\nexport const fumBuyPriceSelector = createSelector(fumBuyPrice, w => w);\n\nconst fumSellPrice = state => get(state, 'fum.sellPrice', 0);\nexport const fumSellPriceSelector = createSelector(fumSellPrice, w => w);\n","import './App.scss';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { loadNetwork } from './redux/interactions';\nimport { fumBurnsSelector, fumBuyPriceSelector, fumMintsSelector, fumSellPriceSelector, fumSupplySelector, networkProviderSelector, usmBurnsSelector, usmBuyPriceSelector, usmCollateralSelector, usmDebtRatioSelector, usmEthBufferSelector, usmMintsSelector, usmSellPriceSelector, usmSupplySelector } from './redux/selectors';\nimport { Card, Col, Container, Row, Table } from 'react-bootstrap';\n\nclass App extends Component {\n\n  \n  render() {\n\n    const decimalPlaces = (numberString, decimals = 2) => {\n      return Number.parseFloat(numberString).toFixed(decimals)\n    }\n\n    const toPercentage = (decimalString) => {\n      const num = Number.parseFloat(decimalString) * 100\n      return decimalPlaces(num.toString())\n    }\n\n    const {dispatch, networkProvider, usmSupply, usmMints, usmBurns, usmMarketCap,\n      usmCollateral, usmDebtRatio, usmEthBuffer, usmBuyPrice, usmSellPrice,\n      fumMarketCap, fumSupply, fumMints, fumBurns, fumBuyPrice, fumSellPrice} = this.props;\n    if (!networkProvider) {\n      loadNetwork(dispatch);\n    }\n\n    return (\n      <div className=\"App\">\n        <Container>\n          <Row className=\"justify-content-md-center\">\n            <Col xs={6}>\n              <Card>\n                <Card.Body>\n                  <Card.Title>\n                    Protocol Health\n                  </Card.Title>\n                  <Table>\n                    <tbody>\n                      <tr>\n                        <td>Total Collateral</td>\n                        <td>{decimalPlaces(usmCollateral)} ETH</td>\n                      </tr>\n                      <tr>\n                        <td>Buffer</td>\n                        <td>{decimalPlaces(usmEthBuffer)} ETH</td>\n                      </tr>\n                      <tr>\n                        <td>Debt Ratio</td>\n                        <td>{toPercentage(usmDebtRatio)} %</td>\n                      </tr>                  \n                    </tbody>\n                  </Table>\n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n          <Row>\n            <Col>\n              <Card>\n                <Card.Body>\n                  <Card.Title>\n                    USM Stats\n                  </Card.Title>\n                  <Table size=\"sm\">\n                    <tbody>\n                      <tr>\n                        <td>Market Cap (ETH)</td>\n                        <td>{decimalPlaces(usmMarketCap)}</td>\n                      </tr>\n                      <tr>\n                        <td>Total Supply</td>\n                        <td>{decimalPlaces(usmSupply)}</td>\n                      </tr>\n                      <tr>\n                        <td>Buy Price (ETH)</td>\n                        <td>{decimalPlaces(usmBuyPrice, 5)}</td>\n                      </tr>\n                      <tr>\n                        <td>Sell Price (ETH)</td>\n                        <td>{decimalPlaces(usmSellPrice, 5)}</td>\n                      </tr>\n                      <tr>\n                        <td>No. of Mints</td>\n                        <td>{usmMints}</td>\n                      </tr>\n                      <tr>\n                        <td>No. of Burns</td>\n                        <td>{usmBurns}</td>\n                      </tr>\n                    </tbody>\n                  </Table>\n                </Card.Body>\n              </Card>\n            </Col>\n            <Col>\n            <Card>\n                <Card.Body>\n                  <Card.Title>\n                    FUM Stats\n                  </Card.Title>\n                  <Table size=\"sm\">\n                    <tbody>\n                      <tr>\n                        <td>Market Cap (ETH)</td>\n                        <td>{decimalPlaces(fumMarketCap)}</td>\n                      </tr>\n                      <tr>\n                        <td>Total Supply</td>\n                        <td>{decimalPlaces(fumSupply)}</td>\n                      </tr>\n                      <tr>\n                        <td>Buy Price (ETH)</td>\n                        <td>{decimalPlaces(fumBuyPrice, 5)}</td>\n                      </tr>\n                      <tr>\n                        <td>Sell Price (ETH)</td>\n                        <td>{decimalPlaces(fumSellPrice, 5)}</td>\n                      </tr>\n                      <tr>\n                        <td>No. of Mints</td>\n                        <td>{fumMints}</td>\n                      </tr>\n                      <tr>\n                        <td>No. of Burns</td>\n                        <td>{fumBurns}</td>\n                      </tr>\n                    </tbody>\n                  </Table>\n                </Card.Body>\n              </Card>\n            </Col>\n            <Col>\n            <Card>\n                <Card.Body>\n                  <Card.Title>\n                    Oracle Stats\n                  </Card.Title>\n                  \n                </Card.Body>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const usmSupply = usmSupplySelector(state)\n  const usmBuyPrice = usmBuyPriceSelector(state)\n  const usmMarketCap = usmSupply * usmBuyPrice\n\n  const fumSupply = fumSupplySelector(state)\n  const fumBuyPrice = fumBuyPriceSelector(state)\n  const fumMarketCap = fumSupply * fumBuyPrice\n  return {\n    networkProvider: networkProviderSelector(state),\n    usmMarketCap,\n    usmSupply,\n    usmMints: usmMintsSelector(state),\n    usmBurns: usmBurnsSelector(state),\n    usmCollateral: usmCollateralSelector(state),\n    usmDebtRatio: usmDebtRatioSelector(state),\n    usmEthBuffer: usmEthBufferSelector(state),\n    usmBuyPrice,\n    usmSellPrice: usmSellPriceSelector(state),\n    fumMarketCap,\n    fumSupply,\n    fumMints: fumMintsSelector(state),\n    fumBurns: fumBurnsSelector(state),\n    fumBuyPrice,\n    fumSellPrice: fumSellPriceSelector(state)\n  }\n}\n\nexport default connect(mapStateToProps)(App);\n","import {combineReducers} from 'redux';\n\nfunction app(state = {}, action) {\n  switch (action.type) {\n    case 'NETWORK_LOADED':\n      return { ...state, provider: action.provider }\n    case 'USM_LOADED':\n      return { ...state, usm: action.usm }\n    case 'FUM_LOADED':\n      return { ...state, fum: action.fum }\n    default:\n      return state;\n  }\n}\n\nfunction usm(state = {}, action) {\n  switch (action.type) {\n    case 'USM_TOTAL_SUPPLY':\n      return { ...state, supply: action.supply }\n    case 'USM_MINTS':\n      return { ...state, mints: action.mints }\n    case 'USM_BURNS':\n      return { ...state, burns: action.burns }\n    case 'USM_COLLATERAL':\n      return { ...state, collateral: action.collateral }\n    case 'USM_DEBT_RATIO':\n      return { ...state, debtRatio: action.debtRatio }\n    case 'USM_ETH_BUFFER':\n      return { ...state, ethBuffer: action.ethBuffer }\n    case 'USM_PRICE':\n      return { ...state, buyPrice: action.buyPrice, sellPrice: action.sellPrice }\n    default:\n      return state;\n  }\n}\n\nfunction fum(state = {}, action) {\n  switch (action.type) {\n    case 'FUM_TOTAL_SUPPLY':\n      return { ...state, supply: action.supply }\n    case 'FUM_MINTS':\n      return { ...state, mints: action.mints }\n    case 'FUM_BURNS':\n      return { ...state, burns: action.burns }\n    case 'FUM_PRICE':\n      return { ...state, buyPrice: action.buyPrice, sellPrice: action.sellPrice }\n    default:\n      return state;\n  }\n}\n\nconst rootReducer = new combineReducers({\n  app, usm, fum\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport { createLogger }  from \"redux-logger\";\nimport rootReducer from \"./reducers\";\n\nconst loggerMiddleware = createLogger();\nconst middleware = [];\n\n//connects redux browser to app\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nexport default function configureStore(preLoadedState){\n  return createStore(\n    rootReducer, \n    preLoadedState,\n    composeEnhancers(applyMiddleware(...middleware, loggerMiddleware))\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport configureStore from './redux/configure';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Provider store={configureStore()}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}